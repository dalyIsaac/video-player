(this["webpackJsonpvideo-player"]=this["webpackJsonpvideo-player"]||[]).push([[4],{132:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return te}));var n=a(22),l=a(0),r=a.n(l),c=a(129),u=a(83),i=a(130),o=a(107),s=a(113),d=a(134);function b(e){var t=e.isMuted,a=e.toggleMuted,n=Object(l.useMemo)((function(){return t?r.a.createElement(o.a,null):r.a.createElement(s.a,null)}),[t]);return r.a.createElement(d.a,{"aria-label":"Toggle muted",onClick:a},n)}var m=a(114),f=a(115);function v(e){var t=e.isPaused,a=e.togglePaused,n=Object(l.useMemo)((function(){return t?r.a.createElement(m.a,null):r.a.createElement(f.a,null)}),[t]);return r.a.createElement(d.a,{"aria-label":"Toggle paused",onClick:a},n)}var g=a(116),p=a(131);var y=Object(g.a)({root:{padding:16}});function O(e){var t=e.value,a=e.updateValue,n=y(),c=Object(l.useCallback)((function(e){a(e.currentTarget.value)}),[a]),u=Object(l.useCallback)((function(){var e=parseFloat(t);isNaN(e)&&a("1.0")}),[a,t]);return r.a.createElement(p.a,{className:n.root,"aria-label":"Video playback rate",type:"number",value:t,onChange:c,onBlur:u,inputProps:{step:1,"aria-label":"Video playback rate"}})}var j=a(137),k=a(136),E=a(72),T=a.n(E);function C(e){return new Date(1e3*e).toISOString().substr(11,8)}function h(e){var t=e.children,a=e.open,n=C(e.value);return r.a.createElement(k.a,{open:a,enterTouchDelay:0,placement:"top",title:n},t)}function R(e){var t=e.className,a=e.currentTime,n=e.duration,c=e.updateCurrentTime,u=Object(l.useCallback)((function(e,t){c(function(e){return Array.isArray(e)?e[0]||0:e}(t))}),[c]);return r.a.createElement(j.a,{className:t,value:a,defaultValue:0,max:n,onChange:u,disabled:0===n,ValueLabelComponent:h})}var P=a(26),w=a(119);function S(e){var t=e.children,a=Object(P.a)();return r.a.createElement(w.a,{style:{color:a.palette.text.primary,padding:8}},t)}var M=a(76),D=a.n(M),V=a(120),N=a(121),x=a(123),I=a(124),K=a(125),L=a(126),U=a(122),A=Object(g.a)({root:{position:"absolute",left:300,top:300,width:400},closeButton:{float:"right"}});function F(e){var t=e.isVisible,a=e.toggleIsVisible,n=e.time,c=e.duration,u=e.playbackRate,i=e.now,o=e.remainingTime,s=e.remainingAtRate,b=e.watchStartTime,m=A(),f=Object(l.useRef)(null),v=Object(l.useMemo)((function(){return t?100:-1}),[t]),g=Object(l.useMemo)((function(){return C((i-b)/1e3)}),[i,b]);return r.a.createElement(D.a,{nodeRef:f,bounds:"body"},r.a.createElement("span",{ref:f,className:m.root,style:{zIndex:v}},r.a.createElement(V.a,{style:{opacity:.8}},r.a.createElement(N.a,null,r.a.createElement(d.a,{"aria-label":"Close statistics panel",className:m.closeButton,onClick:a},r.a.createElement(U.a,null)),r.a.createElement(x.a,{size:"small"},r.a.createElement(I.a,null,r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Current time"),r.a.createElement(L.a,null,n)),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Duration"),r.a.createElement(L.a,null,c)),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Playback rate"),r.a.createElement(L.a,null,u)),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Remaining time"),r.a.createElement(L.a,null,o)),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Remaining at \xd7",u),r.a.createElement(L.a,null,s)),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Watch start time"),r.a.createElement(L.a,null,function(e){var t=new Date(0);return t.setUTCMilliseconds(e),T()(t).format("HH:MM:SS")}(b))),r.a.createElement(K.a,null,r.a.createElement(L.a,null,"Watching for"),r.a.createElement(L.a,null,g))))))))}var B=a(127),z=a(128);function H(e){var t=e.isVisible,a=e.toggleIsVisible,n=Object(l.useMemo)((function(){return t?r.a.createElement(B.a,null):r.a.createElement(z.a,null)}),[t]);return r.a.createElement(d.a,{"aria-label":"Toggle statistics",onClick:a},n)}var J="".concat(122,"px"),W=Object(g.a)({root:{height:90,display:"flex",alignContent:"center",flexDirection:"column",padding:16},seeker:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},interactiveRoot:{display:"flex",justifyContent:"space-between"},interactiveRootLeft:{display:"flex",flexDirection:"row",alignItems:"center"}});function X(e){var t=e.isStatsVisible,a=e.toggleIsStatsVisible,c=e.duration,u=e.currentTime,i=e.isPaused,o=e.togglePaused,s=e.isMuted,d=e.toggleMuted,m=e.updateCurrentTime,f=e.playbackRate,g=e.updatePlaybackRate,p=e.watchStartTime,y=W(),j=Object(l.useState)("00:00:00"),k=Object(n.a)(j,2),E=k[0],T=k[1],h=Object(l.useState)(0),P=Object(n.a)(h,2),w=P[0],M=P[1],D=Object(l.useState)("00:00:00"),V=Object(n.a)(D,2),N=V[0],x=V[1],I=Object(l.useState)("00:00:00"),K=Object(n.a)(I,2),L=K[0],U=K[1];return Object(l.useEffect)((function(){T(C(u));var e=c-u;x(C(e));var t=parseFloat(f)||1;U(C(e/t))}),[u,c,f,p]),Object(l.useEffect)((function(){var e=setInterval((function(){M(Date.now())}),1e3);return function(){return clearInterval(e)}}),[p]),r.a.createElement("div",{className:y.root},r.a.createElement("div",{className:y.seeker},r.a.createElement(S,null,E),r.a.createElement(R,{currentTime:u,duration:c,updateCurrentTime:m}),r.a.createElement(S,null,"-",N,"/",C(c))),r.a.createElement("div",{className:y.interactiveRoot},r.a.createElement("div",{className:y.interactiveRootLeft},r.a.createElement(v,{isPaused:i,togglePaused:o}),r.a.createElement(b,{isMuted:s,toggleMuted:d}),r.a.createElement(H,{isVisible:t,toggleIsVisible:a})),r.a.createElement(O,{value:f,updateValue:g})),r.a.createElement(F,{isVisible:t,toggleIsVisible:a,time:E,duration:C(c),playbackRate:f,now:w,remainingTime:N,remainingAtRate:L,watchStartTime:p}))}var Y=Object(g.a)({root:{padding:"16px"}});function q(e){var t=e.children,a=Object(P.a)(),n=Y();return r.a.createElement(w.a,{variant:"h6",style:{color:a.palette.text.primary},className:n.root},t||"Open a video file (Ctrl + O)")}var G=a(81),Q=a(82);function Z(e,t){return e.key===t.key&&(!t.ctrlKey||e.ctrlKey===t.ctrlKey)}function $(e){var t=e.addToCurrentTime,a=e.addToPlaybackRate,n=e.selectSrc,r=[{key:"m",onKeyDown:e.toggleMuted},{key:" ",onKeyDown:e.togglePaused},{key:"o",ctrlKey:!0,onKeyDown:n},{key:"s",onKeyDown:e.toggleIsStatsVisible},{key:"ArrowLeft",onKeyDown:function(){return t(-10)}},{key:"ArrowRight",onKeyDown:function(){return t(10)}},{key:"ArrowUp",onKeyDown:function(){return a(1)}},{key:"ArrowDown",onKeyDown:function(){return a(-1)}}];return Object(l.useCallback)((function(e){!function(e,t){var a,n=Object(Q.a)(t);try{for(n.s();!(a=n.n()).done;){var l=a.value;if(Z(e,l))return l.onKeyDown(),void e.preventDefault()}}catch(r){n.e(r)}finally{n.f()}}(e,r)}),[r])}var _=Object(g.a)({root:{height:"100vh"},video:{height:"calc(100vh - ".concat("64px"," ")+"- ".concat(J," - 10px)"),width:"100vw"}});function ee(e){var t=e.src,a=e.selectSrc,c=e.title,u=Object(l.useRef)(null),i=_(),o=Object(l.useState)(0),s=Object(n.a)(o,2),d=s[0],b=s[1],m=Object(l.useState)(!1),f=Object(n.a)(m,2),v=f[0],g=f[1],p=Object(l.useState)(0),y=Object(n.a)(p,2),O=y[0],j=y[1],k=function(e,t){var a=Object(l.useState)(!0),r=Object(n.a)(a,2),c=r[0],u=r[1],i=Object(l.useCallback)((function(){e&&t&&(c?e.play():e.pause(),u(!c))}),[c,e,t]),o=Object(l.useCallback)((function(){u(!0)}),[]),s=Object(l.useCallback)((function(){u(!1)}),[]);return{isPaused:c,setIsPaused:u,togglePaused:i,onPause:o,onPlay:s}}(u.current,v),E=k.isPaused,T=k.setIsPaused,C=k.togglePaused,h=k.onPause,R=k.onPlay,P=function(e){var t=Object(l.useState)(!1),a=Object(n.a)(t,2),r=a[0],c=a[1],u=Object(l.useCallback)((function(){c(!r)}),[r]);return{isMuted:r,setIsMuted:c,toggleMuted:u}}(u.current),w=P.isMuted,S=P.toggleMuted,M=function(e,t){var a=Object(l.useState)(0),r=Object(n.a)(a,2),c=r[0],u=r[1],i=Object(l.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&!a&&(e.currentTime=t),u(t)}),[e]),o=Object(l.useCallback)((function(a){if(e){var n=e.currentTime+a;n<0?n=0:n>t&&(n=t),i(n)}}),[t,i,e]),s=Object(l.useCallback)((function(){var t=null===e||void 0===e?void 0:e.currentTime;t&&i(t,!0)}),[i,e]);return{currentTime:c,setCurrentTime:u,updateCurrentTime:i,addToCurrentTime:o,onTimeUpdate:s}}(u.current,O),D=M.currentTime,V=M.onTimeUpdate,N=M.updateCurrentTime,x=M.addToCurrentTime,I=function(e){var t=Object(l.useState)("1.0"),a=Object(n.a)(t,2),r=a[0],c=a[1],u=Object(l.useCallback)((function(t){var a=10*parseFloat(t);isNaN(a)?c(""):(a<4?a=4:a>30&&(a=30),t=function(e){return e.toString()}(a/=10),c(t),e&&(e.playbackRate=a))}),[e]),i=Object(l.useCallback)((function(t){if(e){t=Math.ceil(t);var a=Math.round(10*e.playbackRate+t)/10;u(a.toString())}}),[u,e]);return{playbackRate:r,setPlaybackRate:c,updatePlaybackRate:u,addToPlaybackRate:i}}(u.current),K=I.playbackRate,L=I.updatePlaybackRate,U=I.addToPlaybackRate,A=Object(l.useState)(!0),F=Object(n.a)(A,2),B=F[0],z=F[1],H=Object(l.useCallback)((function(){z(!B)}),[B]),J=$({addToCurrentTime:x,addToPlaybackRate:U,selectSrc:a,toggleMuted:S,togglePaused:C,toggleIsStatsVisible:H});Object(G.a)("keydown",J,document);var W=function(e){var t=e.addToCurrentTime,a=e.addToPlaybackRate,n={x:Object(l.useCallback)((function(e){t(e/1e3*10)}),[t]),y:Object(l.useCallback)((function(e){a(-e/100*1)}),[a])};return Object(l.useCallback)((function(e){!function(e,t){e.deltaX&&t.x(e.deltaX),e.deltaY&&t.y(e.deltaY)}(e,n)}),[n])}({addToCurrentTime:x,addToPlaybackRate:U});Object(G.a)("wheel",W,document,{passive:!0});var Y=Object(l.useCallback)((function(){var e=u.current;g(!0),j((null===e||void 0===e?void 0:e.duration)||0),b(Date.now()),T(!1),null===e||void 0===e||e.play();var t=parseFloat(K);!isNaN(t)&&e&&(e.playbackRate=t)}),[K,T]);return r.a.createElement("div",{className:i.root},r.a.createElement(q,null,c),r.a.createElement("video",{className:i.video,ref:u,src:t,muted:w,onLoadedMetadata:Y,onTimeUpdate:V,onPause:h,onPlay:R}),r.a.createElement(X,{isStatsVisible:B,toggleIsStatsVisible:H,isPaused:E,togglePaused:C,isMuted:w,toggleMuted:S,duration:O,currentTime:D,updateCurrentTime:N,playbackRate:K,updatePlaybackRate:L,watchStartTime:d}))}function te(){var e=Object(c.a)("(prefers-color-scheme: dark)"),t=Object(l.useMemo)((function(){return Object(u.a)({palette:{type:e?"dark":"light"}})}),[e]),a=Object(l.useState)(""),o=Object(n.a)(a,2),s=o[0],d=o[1],b=Object(l.useState)(""),m=Object(n.a)(b,2),f=m[0],v=m[1],g=Object(l.useRef)(null),p=Object(l.useCallback)((function(e){var t;if(null===(t=e.currentTarget.files)||void 0===t?void 0:t.length){var a=e.currentTarget.files[0];v(a.name),URL.revokeObjectURL(s);var n=URL.createObjectURL(a);d(n)}}),[s]),y=Object(l.useCallback)((function(){var e;null===(e=g.current)||void 0===e||e.click()}),[]);return r.a.createElement(i.a,{theme:t},r.a.createElement("div",{style:{backgroundColor:t.palette.background.default}},r.a.createElement("input",{"aria-label":"Press Ctrl+O to open a video from the local filesystem",ref:g,type:"file",accept:"video/*",onChange:p,style:{display:"none"}}),r.a.createElement(ee,{src:s,selectSrc:y,title:f})))}}}]);
//# sourceMappingURL=4.dd517065.chunk.js.map