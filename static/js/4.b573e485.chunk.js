(this["webpackJsonpvideo-player"]=this["webpackJsonpvideo-player"]||[]).push([[4],{108:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));var n=a(21),r=a(0),c=a.n(r),u=a(105),l=a(69),o=a(106),i=a(24),d=a(95);function s(e){return new Date(1e3*e).toISOString().substr(11,8)}function b(e){var t=e.currentTime,a=e.duration,u=Object(i.a)(),l=Object(r.useState)("00:00:00"),o=Object(n.a)(l,2),b=o[0],f=o[1];return Object(r.useEffect)((function(){f(s(t))}),[t]),c.a.createElement(d.a,{style:{color:u.palette.text.primary}},b,"/",s(a))}var f=a(98),m=a(100),v=a(110);function p(e){var t=e.isMuted,a=e.toggleMuted,n=Object(r.useMemo)((function(){return t?c.a.createElement(f.a,null):c.a.createElement(m.a,null)}),[t]);return c.a.createElement(v.a,{"aria-label":"Toggle muted",onClick:a},n)}var y=a(101),k=a(102);function O(e){var t=e.isPaused,a=e.togglePaused,n=Object(r.useMemo)((function(){return t?c.a.createElement(y.a,null):c.a.createElement(k.a,null)}),[t]);return c.a.createElement(v.a,{"aria-label":"Toggle paused",onClick:a},n)}var g=a(107);function j(e){var t=e.value,a=e.updateValue,n=Object(r.useCallback)((function(e){a(e.currentTarget.value)}),[a]),u=Object(r.useCallback)((function(){var e=parseFloat(t);isNaN(e)&&a("1.0")}),[a,t]);return c.a.createElement(g.a,{"aria-label":"Video playback rate",type:"number",value:t,onChange:n,onBlur:u,inputProps:{step:.2,"aria-label":"Video playback rate"}})}var T=a(113),C=a(112);function P(e){var t=e.children,a=e.open,n=s(e.value);return c.a.createElement(C.a,{open:a,enterTouchDelay:0,placement:"top",title:n},t)}function R(e){var t=e.currentTime,a=e.duration,n=e.updateCurrentTime,u=Object(r.useCallback)((function(e,t){n(function(e){return Array.isArray(e)?e[0]||0:e}(t))}),[n]);return c.a.createElement(T.a,{value:t,defaultValue:0,max:a,onChange:u,disabled:0===a,ValueLabelComponent:P})}var h=a(104),E="".concat(108,"px"),w=Object(h.a)({root:{height:76,display:"flex",flexDirection:"column",padding:16},interactiveRoot:{display:"flex",justifyContent:"space-between"},interactiveRootLeft:{display:"flex",flexDirection:"row",alignItems:"center"}});function M(e){var t=e.duration,a=e.currentTime,n=e.isPaused,r=e.togglePaused,u=e.isMuted,l=e.toggleMuted,o=e.updateCurrentTime,i=e.playbackRate,d=e.updatePlaybackRate,s=w();return c.a.createElement("div",{className:s.root},c.a.createElement(R,{currentTime:a,duration:t,updateCurrentTime:o}),c.a.createElement("div",{className:s.interactiveRoot},c.a.createElement("div",{className:s.interactiveRootLeft},c.a.createElement(O,{isPaused:n,togglePaused:r}),c.a.createElement(p,{isMuted:u,toggleMuted:l}),c.a.createElement(b,{currentTime:a,duration:t})),c.a.createElement(j,{value:i,updateValue:d})))}var S=Object(h.a)({root:{padding:"16px"}});function x(e){var t=e.children,a=Object(i.a)(),n=S();return c.a.createElement(d.a,{variant:"h6",style:{color:a.palette.text.primary},className:n.root},t||"Open a video file (Ctrl + O)")}var D=a(67),K=a(68);function N(e,t){return e.key===t.key&&(!t.ctrlKey||e.ctrlKey===t.ctrlKey)}function L(e){var t=e.addToCurrentTime,a=e.addToPlaybackRate,n=e.selectSrc,c=[{key:"m",onKeyDown:e.toggleMuted},{key:" ",onKeyDown:e.togglePaused},{key:"o",ctrlKey:!0,onKeyDown:n},{key:"ArrowLeft",onKeyDown:function(){return t(-10)}},{key:"ArrowRight",onKeyDown:function(){return t(10)}},{key:"ArrowUp",onKeyDown:function(){return a(.2)}},{key:"ArrowDown",onKeyDown:function(){return a(-.2)}}];return Object(r.useCallback)((function(e){!function(e,t){var a,n=Object(K.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(N(e,r))return r.onKeyDown(),void e.preventDefault()}}catch(c){n.e(c)}finally{n.f()}}(e,c)}),[c])}var U=Object(h.a)({root:{height:"100vh"},video:{height:"calc(100vh - ".concat("64px"," ")+"- ".concat(E," - 10px)"),width:"100vw"}});function A(e){var t=e.src,a=e.selectSrc,u=e.title,l=Object(r.useRef)(null),o=U(),i=Object(r.useState)(!1),d=Object(n.a)(i,2),s=d[0],b=d[1],f=Object(r.useState)(0),m=Object(n.a)(f,2),v=m[0],p=m[1],y=function(e,t){var a=Object(r.useState)(!0),c=Object(n.a)(a,2),u=c[0],l=c[1],o=Object(r.useCallback)((function(){e&&t&&(u?e.play():e.pause(),l(!u))}),[u,e,t]),i=Object(r.useCallback)((function(){l(!0)}),[]),d=Object(r.useCallback)((function(){l(!1)}),[]);return{isPaused:u,setIsPaused:l,togglePaused:o,onPause:i,onPlay:d}}(l.current,s),k=y.isPaused,O=y.setIsPaused,g=y.togglePaused,j=y.onPause,T=y.onPlay,C=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],u=a[1],l=Object(r.useCallback)((function(){u(!c)}),[c]);return{isMuted:c,setIsMuted:u,toggleMuted:l}}(l.current),P=C.isMuted,R=C.toggleMuted,h=function(e,t){var a=Object(r.useState)(0),c=Object(n.a)(a,2),u=c[0],l=c[1],o=Object(r.useCallback)((function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&!a&&(e.currentTime=t),l(t)}),[e]),i=Object(r.useCallback)((function(a){if(e){var n=e.currentTime+a;n<0?n=0:n>t&&(n=t),o(n)}}),[t,o,e]),d=Object(r.useCallback)((function(){var t=null===e||void 0===e?void 0:e.currentTime;t&&o(t,!0)}),[o,e]);return{currentTime:u,setCurrentTime:l,updateCurrentTime:o,addToCurrentTime:i,onTimeUpdate:d}}(l.current,v),E=h.currentTime,w=h.onTimeUpdate,S=h.updateCurrentTime,K=h.addToCurrentTime,N=function(e){var t=Object(r.useState)("1.0"),a=Object(n.a)(t,2),c=a[0],u=a[1],l=Object(r.useCallback)((function(t){var a=parseFloat(t);isNaN(a)?u(""):e&&(a<.4?a=.4:a>20&&(a=20),t=function(e){return e.toPrecision(2)}(a),u(t),e.playbackRate=a)}),[e]),o=Object(r.useCallback)((function(t){e&&l(String(e.playbackRate+t))}),[l,e]);return{playbackRate:c,setPlaybackRate:u,updatePlaybackRate:l,addToPlaybackRate:o}}(l.current),A=N.playbackRate,V=N.updatePlaybackRate,I=N.addToPlaybackRate,F=L({addToCurrentTime:K,addToPlaybackRate:I,selectSrc:a,toggleMuted:R,togglePaused:g});Object(D.a)("keydown",F,document);var J=function(e){var t=e.addToCurrentTime,a=e.addToPlaybackRate,n={x:Object(r.useCallback)((function(e){t(e/1e3*10)}),[t]),y:Object(r.useCallback)((function(e){a(-e/100*.2)}),[a])};return Object(r.useCallback)((function(e){!function(e,t){e.deltaX&&t.x(e.deltaX),e.deltaY&&t.y(e.deltaY)}(e,n)}),[n])}({addToCurrentTime:K,addToPlaybackRate:I});Object(D.a)("wheel",J,document,{passive:!0});var X=Object(r.useCallback)((function(){var e=l.current;b(!0),p((null===e||void 0===e?void 0:e.duration)||0),O(!1),null===e||void 0===e||e.play();var t=parseFloat(A);!isNaN(t)&&e&&(e.playbackRate=t)}),[A,O]);return c.a.createElement("div",{className:o.root},c.a.createElement(x,null,u),c.a.createElement("video",{className:o.video,ref:l,src:t,muted:P,onLoadedMetadata:X,onTimeUpdate:w,onPause:j,onPlay:T}),c.a.createElement(M,{isPaused:k,togglePaused:g,isMuted:P,toggleMuted:R,duration:v,currentTime:E,updateCurrentTime:S,playbackRate:A,updatePlaybackRate:V}))}function V(){var e=Object(u.a)("(prefers-color-scheme: dark)"),t=Object(r.useMemo)((function(){return Object(l.a)({palette:{type:e?"dark":"light"}})}),[e]),a=Object(r.useState)(""),i=Object(n.a)(a,2),d=i[0],s=i[1],b=Object(r.useState)(""),f=Object(n.a)(b,2),m=f[0],v=f[1],p=Object(r.useRef)(null),y=Object(r.useCallback)((function(e){var t;if(null===(t=e.currentTarget.files)||void 0===t?void 0:t.length){var a=e.currentTarget.files[0];v(a.name),URL.revokeObjectURL(d);var n=URL.createObjectURL(a);s(n)}}),[d]),k=Object(r.useCallback)((function(){var e;null===(e=p.current)||void 0===e||e.click()}),[]);return c.a.createElement(o.a,{theme:t},c.a.createElement("div",{style:{backgroundColor:t.palette.background.default}},c.a.createElement("input",{"aria-label":"Press Ctrl+O to open a video from the local filesystem",ref:p,type:"file",accept:"video/*",onChange:y,style:{display:"none"}}),c.a.createElement(A,{src:d,selectSrc:k,title:m})))}}}]);
//# sourceMappingURL=4.b573e485.chunk.js.map